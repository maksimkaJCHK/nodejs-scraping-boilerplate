"use strict";var e=require("@slices/catalogs"),t=require("@slices/new-catalogs");function n(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var a={exports:{}},l={},o=Symbol.for("react.element"),c=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),g=Symbol.iterator;var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,v={};function k(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||b}function _(){}function x(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||b}k.prototype.isReactComponent={},k.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},k.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=k.prototype;var w=x.prototype=new _;w.constructor=x,h(w,k.prototype),w.isPureReactComponent=!0;var C=Array.isArray,S=Object.prototype.hasOwnProperty,N={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,a={},l=null,c=null;if(null!=t)for(r in void 0!==t.ref&&(c=t.ref),void 0!==t.key&&(l=""+t.key),t)S.call(t,r)&&!j.hasOwnProperty(r)&&(a[r]=t[r]);var i=arguments.length-2;if(1===i)a.children=n;else if(1<i){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+2];a.children=u}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===a[r]&&(a[r]=i[r]);return{$$typeof:o,type:e,key:l,ref:c,props:a,_owner:N.current}}function R(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var $=/\/+/g;function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,a){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var i=!1;if(null===e)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case o:case c:i=!0}}if(i)return a=a(i=e),e=""===r?"."+P(i,0):r,C(a)?(n="",null!=e&&(n=e.replace($,"$&/")+"/"),I(a,t,n,"",(function(e){return e}))):null!=a&&(R(a)&&(a=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||i&&i.key===a.key?"":(""+a.key).replace($,"$&/")+"/")+e)),t.push(a)),1;if(i=0,r=""===r?".":r+":",C(e))for(var u=0;u<e.length;u++){var s=r+P(l=e[u],u);i+=I(l,t,n,s,a)}else if(s=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=g&&e[g]||e["@@iterator"])?e:null}(e),"function"==typeof s)for(e=s.call(e),u=0;!(l=e.next()).done;)i+=I(l=l.value,t,n,s=r+P(l,u++),a);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function L(e,t,n){if(null==e)return e;var r=[],a=0;return I(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var F={current:null},A={transition:null},z={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:A,ReactCurrentOwner:N};l.Children={map:L,forEach:function(e,t,n){L(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return L(e,(function(){t++})),t},toArray:function(e){return L(e,(function(e){return e}))||[]},only:function(e){if(!R(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},l.Component=k,l.Fragment=i,l.Profiler=s,l.PureComponent=x,l.StrictMode=u,l.Suspense=d,l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,l.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=h({},e.props),a=e.key,l=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,c=N.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(u in t)S.call(t,u)&&!j.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==i?i[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){i=Array(u);for(var s=0;s<u;s++)i[s]=arguments[s+2];r.children=i}return{$$typeof:o,type:e.type,key:a,ref:l,props:r,_owner:c}},l.createContext=function(e){return(e={$$typeof:f,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:p,_context:e},e.Consumer=e},l.createElement=O,l.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},l.createRef=function(){return{current:null}},l.forwardRef=function(e){return{$$typeof:m,render:e}},l.isValidElement=R,l.lazy=function(e){return{$$typeof:E,_payload:{_status:-1,_result:e},_init:T}},l.memo=function(e,t){return{$$typeof:y,type:e,compare:void 0===t?null:t}},l.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},l.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},l.useCallback=function(e,t){return F.current.useCallback(e,t)},l.useContext=function(e){return F.current.useContext(e)},l.useDebugValue=function(){},l.useDeferredValue=function(e){return F.current.useDeferredValue(e)},l.useEffect=function(e,t){return F.current.useEffect(e,t)},l.useId=function(){return F.current.useId()},l.useImperativeHandle=function(e,t,n){return F.current.useImperativeHandle(e,t,n)},l.useInsertionEffect=function(e,t){return F.current.useInsertionEffect(e,t)},l.useLayoutEffect=function(e,t){return F.current.useLayoutEffect(e,t)},l.useMemo=function(e,t){return F.current.useMemo(e,t)},l.useReducer=function(e,t,n){return F.current.useReducer(e,t,n)},l.useRef=function(e){return F.current.useRef(e)},l.useState=function(e){return F.current.useState(e)},l.useSyncExternalStore=function(e,t,n){return F.current.useSyncExternalStore(e,t,n)},l.useTransition=function(){return F.current.useTransition()},l.version="18.2.0",a.exports=l;var M=a.exports,B=r(M),D=n({__proto__:null,default:B},[M]);function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}const q=({url:e,title:t,...n})=>B.createElement("a",V({href:e},n),t);function U(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}U("nav {\n  padding: 10px 0;\n  font-size: 20px;\n  line-height: 120%;\n  border-bottom: 1px solid #202083; }\n  nav a {\n    color: var(--type-color);\n    text-decoration: none;\n    display: inline-block;\n    margin-left: 20px; }\n    nav a:first-of-type {\n      margin-left: 0; }\n    nav a:hover, nav a.active {\n      color: var(--link-color); }\n");const H=({link:e})=>B.createElement("nav",null,e.map(((e,t)=>B.createElement(q,V({},e,{key:t})))));var W=M;"function"==typeof Object.is&&Object.is,W.useSyncExternalStore,W.useRef,W.useEffect,W.useMemo,W.useDebugValue;var J="default"in D?B:D,Y=Symbol.for("react-redux-context"),Z="undefined"!=typeof globalThis?globalThis:{};function G(){if(!J.createContext)return{};const e=Z[Y]??(Z[Y]=new Map);let t=e.get(J.createContext);return t||(t=J.createContext(null),e.set(J.createContext,t)),t}var K=G();function Q(e=K){return function(){return J.useContext(e)}}var X=Q(),ee=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),te="undefined"!=typeof navigator&&"ReactNative"===navigator.product;function ne(e=K){const t=e===K?X:Q(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}ee||te?J.useLayoutEffect:J.useEffect;var re=ne();function ae(e=K){const t=e===K?re:ne(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var le=ae();U(".btn {\n  --btn-bg: #444;\n  --btn-bg-hover: #656565;\n  color: #fff;\n  cursor: pointer;\n  padding: 10px 15px;\n  display: inline-block;\n  border-radius: 5px;\n  background: var(--btn-bg);\n  border: 1px solid var(--btn-bg);\n  transition: background-color .4s ease-in 0s; }\n  .btn:hover {\n    background: var(--btn-bg-hover); }\n  .btn + .btn {\n    margin-left: 10px; }\n");const oe=e=>{const{children:t,onClick:n}=e;return B.createElement("button",{onClick:n,className:"btn"},t)};U(".params {\n  font-size: 16px;\n  line-height: 120%; }\n  .params-nav {\n    margin: 10px 0; }\n    .params-nav a {\n      color: var(--link-color);\n      margin-left: 10px;\n      text-decoration: none; }\n      .params-nav a:hover {\n        text-decoration: none; }\n    .params-nav b a {\n      margin-left: 0; }\n    .params-nav .active {\n      color: var(--type-color); }\n");const ce=({cg:n,lb:r,newItem:a,children:l})=>{const o=le(),c=({type:n})=>{const r=new WebSocket(`ws://localhost:8080/${n}`);r.addEventListener("open",(e=>{r.send("Соединение с сервером установлено!")})),r.addEventListener("message",(a=>{"end"===JSON.parse(a.data).type&&(r.close(),"scraping"===n&&o(e.setIsReloadCatalogBtn()),"analitics"===n&&o(t.setIsReloadNewCatalogBtn()),"scraping-and-analitics"===n&&(o(e.setIsReloadCatalogBtn()),o(t.setIsReloadNewCatalogBtn())))})),r.addEventListener("close",(e=>{}))};return B.createElement("section",{className:"params"},B.createElement("div",{className:"h2"},"Запросы по конкретным магазинам:"),B.createElement("div",{className:"params-nav"},B.createElement("b",null,"Запрос для читай-города: "),n.map(((e,t)=>B.createElement(q,V({},e,{key:t}))))),B.createElement("div",{className:"params-nav"},B.createElement("b",null,"Запрос для лабирита: "),r.map(((e,t)=>B.createElement(q,V({},e,{key:t}))))),B.createElement("div",{className:"params-nav"},B.createElement("h2",null,"Новые товары:"),B.createElement("b",null,B.createElement(q,{url:"/new",title:"Новые товары по всем запросам"})),a.map(((e,t)=>B.createElement(q,V({},e,{key:t}))))),B.createElement(oe,{onClick:()=>c({type:"scraping"})},"Скрапинг интернет-магазинов"),B.createElement(oe,{onClick:()=>c({type:"analitics"})},"Анализировать"),B.createElement(oe,{onClick:()=>c({type:"scraping-and-analitics"})},"Скрапинг интернет-магазинов и анализ"),l)};U("@keyframes ldio-gggn3pkm2yo {\n  0% {\n    transform: translate(-50%, -50%) rotate(0deg); }\n  100% {\n    transform: translate(-50%, -50%) rotate(360deg); } }\n\n.preload {\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  background: rgba(255, 255, 255, 0.7); }\n\n.ldio-gggn3pkm2yo {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  transform: translateZ(0) scale(0.48);\n  backface-visibility: hidden;\n  transform-origin: 0 0; }\n  .ldio-gggn3pkm2yo div {\n    position: absolute;\n    width: 58px;\n    height: 58px;\n    border: 10px solid #101be9;\n    border-top-color: transparent;\n    border-radius: 50%;\n    box-sizing: content-box;\n    animation: ldio-gggn3pkm2yo 1s linear infinite;\n    top: 50px;\n    left: 50px; }\n\n.loadingio-spinner-rolling-8n6pm9bs3j5 {\n  width: 48px;\n  height: 48px;\n  display: inline-block;\n  overflow: hidden;\n  background: none; }\n");const ie=({load:e})=>e?B.createElement("div",{className:"preload"},B.createElement("div",{className:"loadingio-spinner-rolling-8n6pm9bs3j5"},B.createElement("div",{className:"ldio-gggn3pkm2yo"},B.createElement("div",null)))):null,ue=({url:e,picture:t,title:n,bookAuthors:r,description:a,price:l,publisher:o,yearPublishing:c,pages:i})=>{const u={__html:a};return B.createElement("div",{className:"item"},B.createElement("a",{href:e,className:"item-img",target:"_blank"},t?B.createElement("img",{src:t}):"У товара нет картинки"),B.createElement("div",{className:"item-description"},B.createElement("h3",null,B.createElement("a",{href:e,target:"_blank"},n)),B.createElement("p",null,B.createElement("b",null,"Автор:")," ",r.map(((e,t)=>B.createElement("span",{key:t},e)))),B.createElement("p",{dangerouslySetInnerHTML:u}),B.createElement("p",null,B.createElement("b",null,"Страниц:")," ",i),B.createElement("p",null,B.createElement("b",null,"Опубликовано:")," ",c||"-"),B.createElement("p",null,B.createElement("b",null,"Издательство:")," ",o),B.createElement("p",null,B.createElement("b",null,"Цена:")," ",l," руб"),B.createElement("div",{className:"item-link"},B.createElement("a",{href:e,target:"_blank"},"Посмотреть товар"))))},se=({url:e,picture:t,title:n,description:r,publisher:a,price:l})=>B.createElement("div",{className:"item"},B.createElement("a",{href:e,className:"item-img",target:"_blank"},t?B.createElement("img",{src:t}):"У товара нет картинки"),B.createElement("div",{className:"item-description"},B.createElement("h3",null,B.createElement("a",{href:e,target:"_blank"},n)),B.createElement("p",null,B.createElement("b",null,"Издательство:")," ",a),B.createElement("p",null,B.createElement("b",null,"Цена:")," ",l),B.createElement("div",{className:"item-link"},B.createElement("a",{href:e,target:"_blank"},"Посмотреть товар"))));U(".fraze-null {\n  margin: 20px 0;\n  font-size: 13px; }\n");const pe=({text:e="Нет товаров для отображения"})=>B.createElement("p",{className:"fraze-null"},B.createElement("b",null,e)),fe=({shop:e,title:t,id:n,type:r="cg"})=>{const a=t?B.createElement("h3",null,t):null;return B.createElement("div",{id:n},a,B.createElement("div",null,"Всего ",e&&e.length," товаров"),B.createElement("div",{className:"item-wrap"},e&&e.length?"cg"===r?e.map(((e,t)=>B.createElement(ue,V({},e,{key:t})))):e.map(((e,t)=>B.createElement(se,V({},e,{key:t})))):B.createElement(pe,null)))},me=({title:e,idCg:t,idLb:n})=>{const r=e?B.createElement("h2",null,e):null,a=t||n?B.createElement("ul",null,t&&B.createElement("li",null,B.createElement(q,{url:"#"+t,title:"Товары на читай-городе"})),n&&B.createElement("li",null,B.createElement(q,{url:"#"+n,title:"Товары на лабиринте"}))):null;return B.createElement(B.Fragment,null,r,a)},de=({id:e,shops:t,title:n,idCg:r,idLb:a})=>B.createElement("div",{id:e},B.createElement(me,{title:n,idCg:r,idLb:a}),B.createElement(fe,{shop:t.cg,id:r,type:"cg",title:"Товары для читай-города"}),B.createElement(fe,{shop:t.lb,id:a,type:"lb",title:"Товары для лабиринта"})),ye=({catalogs:e})=>B.createElement(B.Fragment,null,e.map(((e,t)=>B.createElement(de,V({},e,{key:t}))))),Ee=({title:e,links:t})=>{const n=e?B.createElement("h1",null,e):null,r=t&&t.length?B.createElement("ul",null,t.map((({title:e,url:t},n)=>t&&t.length?B.createElement("li",{key:n},B.createElement(q,{url:"#"+t,title:e||"Заголовок не определен"})):null))):null;return B.createElement(B.Fragment,null,n,r)};exports.AllShopsCont=({category:e,title:t})=>B.createElement(B.Fragment,null,B.createElement("h1",null,t),Object.keys(e).length?B.createElement(de,e):null),exports.CurShopCont=({shopListParams:e,title:t})=>B.createElement(B.Fragment,null,B.createElement("h1",null,t),B.createElement(fe,e)),exports.MainCont=({mainLinks:e,title:t,catalogs:n})=>B.createElement(B.Fragment,null,B.createElement(Ee,{title:t,links:e}),B.createElement(ye,{catalogs:n})),exports.PageNotFound=()=>B.createElement("div",{className:"pageNotFound"},B.createElement("h1",null,"Страница не найдера!!!"),B.createElement("p",null,"Страница не найдена, попробуйте перейти по ссылкам выше.")),exports.Wrapper=({topNav:e,navParams:t,children:n,isLoad:r=!0})=>B.createElement(B.Fragment,null,B.createElement(H,{link:e}),B.createElement(ce,t),B.createElement("main",null,B.createElement(ie,{load:r}),n));
